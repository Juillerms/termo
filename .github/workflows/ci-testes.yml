# O nome do nosso workflow. Aparecerá no separador "Actions".
name: CI - Testes do Jogo Termo

# Define quando o workflow deve ser executado.
on:
  push: # Executa em qualquer "push" para qualquer ramo.
    branches: [ "main" ] # Pode restringir para o ramo principal
  pull_request: # Executa também em "pull requests"
    branches: [ "main" ]

# Define os "trabalhos" (jobs) que este workflow vai executar.
jobs:
  # O nome do nosso job (pode ser qualquer nome)
  build-and-test:
    # A máquina virtual onde o código vai ser executado.
    # "ubuntu-latest" é a mais comum e recomendada.
    runs-on: ubuntu-latest

    # Os passos (steps) que o job vai executar em sequência.
    steps:
      # 1. Passo para "baixar" o código do seu repositório para a máquina virtual.
      - name: Checkout do código
        uses: actions/checkout@v4

      # 2. Passo para configurar o ambiente Node.js.
      - name: Configurar Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18' # Vamos usar a versão 18 do Node.js

      # 3. Passo para instalar as dependências do projeto (ex: React, Jest, etc.)
      - name: Instalar dependências
        run: npm install

      # 4. Passo para executar os testes.
      # (Isto assume que temos um script "test" no nosso package.json)
      - name: Rodar testes
        run: npm test
